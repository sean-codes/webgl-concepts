<doctype html>
<html>
   <head>
      <link rel="stylesheet" href="./style.css">
   </head>
   <body>
      <h2>WebGL Exploration</h2>
      <display>
         <canvas width="500" height="225" id="canvas"></canvas>
         <settings></settings>
      </display>
      <a href="https://github.com/sean-codes/webgl-concepts" id="viewsource-link">view source<img src="./github.png"></a>
      <!-- include helpers here -->
      <script>
         // Add more experiments here!
         var experiments = [
            { title: 'triangle', src: '/experiments/triangle.js' },
         ]

         // Some interesting manuevering
         document.body.onload = function() {
            // Load the current script
            var script = document.createElement('script')
            script.src = window.location.hash.replace('#', '.')
            document.body.appendChild(script)

            // Load all the links
            for (var experiment of experiments) {
               var button = document.createElement('button')
               button.innerHTML = experiment.title
               button.dataset.src = experiment.src
               if (script.src.endsWith(experiment.src)) {
                  button.classList.add('active')

                  var htmlViewSourceLink = document.getElementById('viewsource-link')
                  htmlViewSourceLink.href += '/tree/master' + experiment.src
               }

               button.onclick = function() {
                  window.location.hash = this.dataset.src
                  window.location.reload()
               }

               document.body.appendChild(button)
            }
         }
      </script>
   </body>
</html>
